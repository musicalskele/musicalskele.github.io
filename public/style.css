:root {
    color-scheme: light dark;

    --bg0:      light-dark(#9096b9, #0e021e);
    --fg0:      light-dark(#0e021e, #9096b9);
    --cl0:      light-dark(#49456e, #49456e);
    --border2:  light-dark(#49456e, #9096b9);

    --step:     13px;
    --step-2:   calc(var(--step) * 2);
    --step-3:   calc(var(--step) * 3);
    --ac0:      #ff8533;
    --ac1:      #c45041;
    --ac2:      #ffc080;
    --vc0:      #ff8533;
}

.theme-switcher {
    justify-content:    center;
    display:    flex;
    gap:        8px;
    margin-top: 12px;
    width:      100%;
}

.theme-switcher input[type="radio"] {
    display: none;
}

.theme-switcher label {
    cursor:         pointer;
    font-size:      var(--step);
    line-height:    1;
    padding:        4px 10px;
    border:         1px solid var(--border2);
    background:     var(--bg0);
    color:          var(--fg0);
    font-family:    "Cozette", monospace;
    user-select:    none;
}

.theme-switcher label:hover {
    background:     var(--fg0);
    color:          var(--bg0);
    border-color:   var(--bg0);
}

.theme-switcher input[type="radio"]:checked + label {
    background:     var(--fg0);
    color:          var(--bg0);
    border-color:   var(--bg0);
    box-shadow:     inset 2px 2px 0 var(--border2);
}

:root:has(#theme-light:checked) {
    color-scheme:   light;
    --bg0:      #9096b9;
    --fg0:      #0e021e;
    --cl0:      #49456e;
    --border2:  #0e021e;

}

:root:has(#theme-dark:checked) {
    color-scheme:    dark;
    --bg0:      #0e021e;
    --fg0:      #9096b9;
    --cl0:      #49456e;
    --border2:  #9096b9;
}

@media (resolution: 1dppx), (resolution: 2dppx), (resolution: 3dppx), (resolution: 4dppx) {
    body {
        -moz-osx-font-smoothing: grayscale;
        font-smooth: never;
   }
}

@font-face {
    font-family:    "Cozette";
    font-style:     normal;
    font-weight:    normal;
    src: url('assets/fonts/CozetteVector-SUBSET.woff2') format('woff2');
    font-display: swap;
    unicode-range: U+0000-024F;
}

@font-face {
    font-family:    "Cozette";
    font-style:     normal;
    font-weight:    bold;
    src: url('assets/fonts/CozetteVectorBold-SUBSET.woff2') format('woff2');
    font-display: swap;
    unicode-range: U+0000-024F;
}



html, body {
    margin:     0;
    box-sizing: border-box;

    font-family:    "Cozette", monospace;
    font-size:      var(--step);
    font-style:     normal;
    -webkit-text-size-adjust:   none;
    text-size-adjust:           none;
    -moz-osx-font-smoothing:    grayscale;
    -webkit-font-smoothing:     none;
    font-smooth:                never;

    color:      var(--fg0);
    background: var(--bg0);
    filter:     contrast(100.00001%);
    /*filter trick from https://github.com/DavidBuchanan314/bitmap-font-css */
}

*, *::before,*::after{box-sizing:inherit}
::selection {background-color:var(--cl0);color:var(--bg0);}

a:link      {color:var(--ac0);text-decoration:none;}
a:visited   {color:var(--vc0);text-decoration:none;}
a:hover     {color:var(--ac1);text-decoration:none;}
a:active    {color:var(--ac2);text-decoration:none;}

h1 {font-size:var(--step-3);line-height:var(--step-3)}
h2 {font-size:var(--step-2);line-height:var(--step-2)}

.dark-text    {color:var(--cl0);}

.bweh {
    margin:     auto;
    display:    flex;
    gap:        16px;
    height:     100lvh;
    flex-direction: column;
}

.centerd {
    justify-content:center;align-items:center;
}

.centerx {
    align-items:center;
}

.titlebar {
    position:			absolute;
    top:				0;
    left:				0;
    color:				var(--bg0);
    background-color: var(--fg0);
    font-weight: bold;
    display:			flex;
    gap:				1px;
    width:				100%;
}
.titlebar span:first-child {flex:1;}

.titlebar .close {
    background-color:	var(--bg0);
    width:			3ch;
    text-align:		center;
    color:			var(--fg0);
    border-radius:		0px;
}

.window-retro {
    position:			relative;
    background-color:	var(--bg0);
    padding:			2em 1ch 1em;
    margin:				1em auto;
    margin-left: 		4ch;
    margin-right: 		4ch;
    
    border:				1px solid var(--border2);
    box-shadow:			1ch calc(1em + 2px) var(--border-2),
                    inset 0 calc(1em + 2px) var(--border-1);
    border-radius:			2px;
    max-width:			calc(96ch);
}

header.window-retro {
    min-width:  0;
    width:  min(100%, 960px);
    max-width:  100%;
    box-sizing: border-box;
    padding:    1rem;
    height:     auto;
}

@media (max-width: 576px) {
    header.window-retro {width: calc(100% - 52px);
    margin-left: 13px;margin-right: 13px;}
}

.grid-windows {
    display: grid;
    grid-template-columns: 1fr minmax(220px, 280px) minmax(220px, 280px);
    gap: 1ch;
    align-items: start;
    width: min(100%, 1000px);
    margin: 0 auto;
}

.side-windows {
    gap: 1ch; display: grid;
    grid-auto-rows: min-content;
}

.grid-windows > .window-retro,
.side-windows .window-retro {
    margin: 0; max-width: none;
}

@media (max-width: 820px) {
    .grid-windows { grid-template-columns: 1fr; width: calc(100% - 4ch); }
    .side-windows { grid-auto-flow: row; }
    .third-panel  { width: auto; aspect-ratio:1; width: fit-content; }
}

.window {
    position:   relative;
    background: var(--bg0);
    padding:    16px 8px 8px;
    margin:     0 16px;
    border:     1px solid var(--border2);
    max-width:  960px;
}

.window.login-window {
    gap:        8px;
    width:      320px;
    margin:     120px auto 0;
    padding:    var(--step-2);
    box-shadow: 4px 4px 0 var(--border2);
    overflow:   visible;
    display:    flex;
    flex-direction: column;
    align-items:    center;
}

.login-window h2 {
    margin:     0;
    font-size:  var(--step);
    text-align:     center;
    line-height:    var(--step);
}

.window.main-window {
    gap:        8px;
    width:      640px;
    margin:     144px auto 0;
    padding:    var(--step-2);
    box-shadow: 4px 4px 0 var(--border2);
    overflow:   visible;
    display:    flex;
    flex-direction: column;
    align-items:    center;
}

.login-form {
    gap:        8px;
    width:      288px;
    display:    flex;
    flex-direction: column;
}
.login-form label {
    display:    block;
    font-size:  var(--step);
    line-height:    var(--step);
    text-transform: uppercase;
}
.login-form input, .login-form button {
    width:      100%;
    height:     28px;
    padding:    4px 6px;
    border:     1px solid var(--border2);
    font-family:    "Cozette", monospace;
    font-size:      var(--step);line-height:1;
    border-radius:  0;
    background:     var(--bg0);
    color:          var(--fg0);
    outline:        none;
}
.login-form button {
    cursor: pointer;
    letter-spacing: 1px;
    font-weight:    bold;
}
.login-form input::placeholder          {color: var(--cl0)}
.login-form input:hover::placeholder    {color: var(--fg0)}
.login-form input:hover {
    color:      var(--bg0);
    background: var(--fg0);
    border-color:   var(--bg0);
}
.login-form button:hover {
    color:      var(--bg0);
    background: var(--fg0);
    border-color:   var(--bg0);
}

#incorrect {
    display: none;
    position: fixed;
    inset: 0;
    justify-content: center;
    align-items: center;
    z-index: 777;
    background: #000;
    opacity: 1;
    image-rendering: pixelated;

    &:target {display: flex;}

    .dialog {
        border:     1px solid #fff;
        padding:    var(--step-2);
        background: #fff;
        color:      #fff;

        width: calc(100% - 40px);
        text-align: center;
        max-width:  360px;

        font-family: "Cozette", monospace;
        line-height: var(--step);
        font-size: var(--step);


        transform: scaleY(0.01);

        animation:
            incorrect-open 0.28s cubic-bezier(0.1, 1.3, 0.2, 1) forwards,
            incorrect-flash 0.12s steps(1) 0.28s forwards;

        h2,p,a{
            animation: incorrect-text 0s linear forwards;
            opacity: 0;font-size: 13px;
        }

        h2{animation-delay:0.18s;}
        p {animation-delay:0.84s;}
        a {animation-delay:1.24s;}

        a.close {
            display: inline-block;
            padding: 6px 12px;
            border: 1px solid #fff;
            text-decoration: none;
            background: #000;
            color: #fff;
            font-family: "Cozette", monospace;
            border-radius: 0;
            image-rendering: pixelated;

            &:hover {
                background: #fff;
                color: #000;
                border-color: #000;
            }
        }
    }
}

@keyframes incorrect-text{to{opacity:1;}}
@keyframes incorrect-open {
    0%   {transform: scaleY(0.01);}
    30%  {transform: scaleY(0.10);}
    40%  {transform: scaleY(0.20);}
    50%  {transform: scaleY(0.40);}
    65%  {transform: scaleY(1.18);}
    85%  {transform: scaleY(0.96);}
    100% {transform: scaleY(1.00);}
}
@keyframes incorrect-flash {
    0%   {background: #fff; color: transparent;}
    100% {background: #000; color: #fff;     }
}


img.heart {
    height: 48px;
    image-rendering: pixelated;
    content: url("./assets/images/heart_login.gif");
}
:root:has(#theme-light:checked) img.heart {
    content: url("./assets/images/heart_login_l.gif");
}
  
#buttons {
    img {
        display: inline-flex;
        text-indent: 100%;
        white-space: nowrap;
        overflow: hidden;
        filter: grayscale(0.3);
        image-rendering: pixelated;
    }
    & img:hover {
        filter: grayscale(0);
        border: 1px solid #fff;
        margin: -1px;
    }
}

.scanlines {
    position: fixed; inset: 0;
    width: 100vw; height: 100vh;
    z-index: 666; pointer-events: none;
    background: repeating-linear-gradient(to right, #0003, #0000 1px, #0000 2px, #0003 2px, #0003 3px);
    animation: flicker 0.1s infinite;
}

.overlay {
    width: 100%; height: 100%;
    background: repeating-linear-gradient(
    #0000 0px, #0000 2px,
    #fff1 2px, #fff1 4px
    );
    position: fixed; pointer-events: none; margin: 0;
    animation: scanlines 1s steps(4) infinite;
}

@keyframes scanlines {
    0%   { background-position: 0 0px; }
    100% { background-position: 0 4px; }
}

footer {
    justify-content:center;align-items:center;
    bottom:0;width:100%;min-height:80px;
    position:   absolute;
    background: #000;
    color:      #fff;
    display:    flex;
    z-index:    667;
}
footer p {
    text-align: center;
}

@keyframes flicker {
    0%      {opacity: 0.42;}
    25%     {opacity: 0.45;}
    50%     {opacity: 0.47;}
    75%     {opacity: 0.44;}
    100%    {opacity: 0.49;}
}

.rosa-info ul { list-style: none; }
.rosa-info ul li::marker { content: "â­’"; }

@keyframes enter_name{0.0%{width:0ch}5.0%{width:1ch}9.55%{width:2ch}16.5%{width:3ch}22.78%{width:4ch}27.22%
{width:5ch}36.02%{width:6ch}45.50%{width:7ch}51.52%{width:8ch}61.47%{width:9ch}67.96%{width:10ch}73.52%
{width:11ch}82.04%{width:12ch}88.08%{width:13ch}95.06%{width:14ch}100.0%{width:15ch}100.0%{width:15ch}}
@keyframes secret{0%{width:0ch}1.00%{width:0ch}2.95%{width:1ch}4.35%{width:2ch}8.10%{width:3ch}10.33%{width:4ch}
13.88%{width:5ch}20.11%{width:6ch}24.96%{width:7ch}27.25%{width:8ch}33.14%{width:9ch}36.32%{width:10ch}44.61%
{width:11ch}47.52%{width:12ch}50.51%{width:13ch}57.67%{width:14ch}63.71%{width:15ch}71.72%{width:16ch}81.81%
{width:17ch}84.97%{width:18ch}89.76%{width:19ch}100.00%{width:20ch}100%{width:20ch}}
.enter_name{display:inline-block;overflow:hidden;white-space:nowrap;animation:enter_name 2182ms steps(1,end) forwards}
.secret{display:inline-block;overflow:hidden;white-space:nowrap;animation:secret 3049ms steps(1,end) forwards}
@media (max-width: 820px) {footer {position: relative; margin-top: 400px;}}